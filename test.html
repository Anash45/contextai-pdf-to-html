<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
  </head>
  <body>
    <div id="waterfallChart" style="width: 800px; height: 500px"></div>

    <script>
      const data = [
        {
          type: "waterfall",
          orientation: "v",
          measure: ["absolute", "relative", "relative", "relative", "absolute"],
          x: [
            "Q4 2023",
            "General & admin",
            "Sales, asset & account",
            "Employee comp. & benefits",
            "Q4 2024",
          ],
          textposition: "outside",
          y: [2915, -1, 141, 296, 3351],
          text: ["$2,915", "$-1", "$141", "$296", "$3,351"],
          decreasing: { marker: { color: "#d7191c" } },
          increasing: { marker: { color: "#d7191c" } },
          totals: { marker: { color: "#000000" } },
          connector: {
            line: {
              color: "rgba(0,0,0,0.2)",
            },
          },
        },
      ];

      const layout = {
        title: {
          text: "Q4 2024 compared to Q4 2023",
          font: { size: 22 },
        },
        annotations: [
          {
            x: 2, // middle of the chart (adjust based on x-axis)
            y: 3450, // vertical position of the label
            text: "$436",
            showarrow: false,
            font: { size: 16, family: "Arial", color: "#000" },
          },
        ],

        shapes: [
    // ===== LEFT BAR CUTS =====

    // First diagonal line (bottom left cut)
    {
      type: "line",
      xref: "x",
      yref: "y",
      x0: -0.1,
      y0: 300,
      x1: 0.1,
      y1: 330,
      line: { color: "#000", width: 2 },
    },
    // Second diagonal line (bottom left cut - other half)
    {
      type: "line",
      xref: "x",
      yref: "y",
      x0: -0.1,
      y0: 360,
      x1: 0.1,
      y1: 390,
      line: { color: "#000", width: 2 },
    },

    // ===== RIGHT BAR CUTS =====

    {
      type: "line",
      xref: "x",
      yref: "y",
      x0: 3.9,
      y0: 300,
      x1: 4.1,
      y1: 330,
      line: { color: "#ffffff", width: 2 },
    },
    {
      type: "line",
      xref: "x",
      yref: "y",
      x0: 3.9,
      y0: 360,
      x1: 4.1,
      y1: 390,
      line: { color: "#ffffff", width: 2 },
    }
  ],
      };

      const config = {
        displayModeBar: false, // ðŸ‘ˆ Hides all controls
        staticPlot: true, // Optional: disables all interactivity (e.g., zoom, drag)
      };

      Plotly.newPlot("waterfallChart", data, layout, config);
    </script>
  </body>
</html>
